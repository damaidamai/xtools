# XTools

## 1\. æ ¸å¿ƒè®¾è®¡ç†å¿µ (Design Philosophy)

  * **Speed & Vibe**: è¿½æ±‚æè‡´çš„å¼€å‘ä¸è¿è¡Œé€Ÿåº¦ã€‚åç«¯é‡‡ç”¨ `uv`ï¼Œå‰ç«¯é‡‡ç”¨ `pnpm`ï¼Œæ‹’ç»ç­‰å¾…ã€‚
  * **Lightweight First**: åˆå§‹é˜¶æ®µé›¶å¤–éƒ¨ä¾èµ– (No Redis/Postgres)ï¼Œä½¿ç”¨ SQLite + AsyncIO å®ç°å•æœºé«˜æ€§èƒ½ã€‚
  * **AI-Native**: æ¶æ„åŸç”Ÿé›†æˆ LLMï¼Œç”¨äºä»£ç å®¡è®¡ã€Payload ç”Ÿæˆå’Œç»“æœåˆ†æã€‚
  * **Minimal & Dark**: é‡‡ç”¨â€œæ§åˆ¶å®¤â€é£æ ¼çš„æ·±è‰²æç®€ç•Œé¢ï¼Œä¿¡æ¯é«˜å¯†åº¦ä½†ä½å™ªç‚¹ã€‚

## 2\. å‰ç«¯æ¶æ„ (Frontend) - äº¤äº’ä¸å±•ç¤º

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **Package Manager** | **pnpm** | **æ–°å¢**ã€‚æ¯” npm/yarn å¿« 2-3 å€ï¼Œä¸”èŠ‚çœç£ç›˜ç©ºé—´ï¼Œéå¸¸é€‚åˆä¾èµ–ä¼—å¤šçš„ç°ä»£å‰ç«¯é¡¹ç›®ã€‚ |
| **Framework** | **Next.js 14+ (App Router)** | React å·¥ä¸šæ ‡å‡†ã€‚åˆ©ç”¨ SSR ä¿è¯é¦–å±åŠ è½½é€Ÿåº¦ã€‚ |
| **Language** | **TypeScript** | å¼ºç±»å‹ä¿éšœï¼Œé…åˆ AI è¾…åŠ©ç¼–ç¨‹èƒ½å¤§å¹…å‡å°‘ Bugã€‚ |
| **UI Components** | **Shadcn/UI** | æºç çº§ç»„ä»¶åº“ã€‚**å…³é”®**ï¼šéœ€æ·±åº¦å®šåˆ¶ `globals.css` ä»¥ç¬¦åˆä¸‹æ–‡çš„è‰²å½©è§„èŒƒã€‚ |
| **Styling** | **Tailwind CSS** | åŸå­åŒ– CSSã€‚é…ç½®è‡ªå®šä¹‰ `theme` é¢œè‰²å˜é‡ä»¥åŒ¹é…çº¢è“å¯¹æŠ—é£æ ¼ã€‚ |
| **State Mgt** | **Zustand** | æç®€çŠ¶æ€ç®¡ç†ï¼Œç”¨äºå¤„ç†å…¨å±€ä»»åŠ¡é˜Ÿåˆ—å’Œ WebSocket æ¶ˆæ¯ã€‚ |
| **Visuals** | **Recharts** | å›¾è¡¨åº“ï¼Œéœ€å®šåˆ¶ Tooltip å’Œ Axis é¢œè‰²ä»¥é€‚åº”æ·±è‰²èƒŒæ™¯ã€‚ |

## 3\. åç«¯æ¶æ„ (Backend) - é€»è¾‘ä¸è°ƒåº¦

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **Package/Runtime** | **uv** | **æ–°å¢**ã€‚åŸºäº Rust ç¼–å†™çš„æé€Ÿ Python åŒ…ç®¡ç†å™¨ã€‚ç”¨äºç®¡ç†ä¾èµ– (`pyproject.toml`) å’Œ Python ç‰ˆæœ¬ã€‚å¯åŠ¨å‘½ä»¤ï¼š`uv run uvicorn ...`ã€‚ |
| **Framework** | **FastAPI** | é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶ï¼ŒåŸç”Ÿæ”¯æŒ OpenAPI æ–‡æ¡£ï¼Œæ–¹ä¾¿è°ƒè¯•çº¢è“å¯¹æŠ—æ¥å£ã€‚ |
| **Database** | **SQLite** (+ **SQLModel**) | å•æ–‡ä»¶æ•°æ®åº“ã€‚é…åˆ WAL æ¨¡å¼å¯æ”¯æŒè¾ƒé«˜å¹¶å‘ã€‚SQLModel ç»“åˆäº† Pydantic å’Œ SQLAlchemy çš„ä¼˜ç‚¹ï¼Œå¼€å‘ä½“éªŒæä½³ã€‚ |
| **Task Engine** | **AsyncIO** + **BackgroundTasks** | åˆ©ç”¨ Python åŸç”Ÿå¼‚æ­¥ç‰¹æ€§å¤„ç†è€—æ—¶æ‰«æï¼Œæ— éœ€é¢å¤–éƒ¨ç½² Celery/Redisã€‚ |
| **Security Core** | **Subprocess** | å°è£…å¸¸ç”¨å®‰å…¨å·¥å…· (Subfinder, Nuclei ç­‰)ï¼Œé€šè¿‡æ ‡å‡†æµå®æ—¶æ•è·è¾“å‡ºã€‚ |

## 4\. UI/UX è®¾è®¡è§„èŒƒ (Design System)

åŸºäºâ€œç½‘ç»œå®‰å…¨ç›‘æ§/çº¢è“å¯¹æŠ—â€åœºæ™¯çš„**æç®€æ‰å¹³åŒ–æ·±è‰²é£æ ¼ (Minimal Dark)**ã€‚

### ğŸ¨ è‰²å½©ä»¤ç‰Œ (Color Tokens)

å»ºè®®ç›´æ¥é…ç½®åˆ° `tailwind.config.ts` ä¸­ã€‚

| è¯­ä¹‰ (Semantic) | Hex Code | Tailwind æ˜ å°„å»ºè®® | åº”ç”¨åœºæ™¯ |
| :--- | :--- | :--- | :--- |
| **Background** | `#121212` | `bg-background` | é¡µé¢æ•´ä½“èƒŒæ™¯ (å‡ è¿‘é»‘) |
| **Surface/Card** | `#1E1E1E` | `bg-card` / `bg-popover` | å¡ç‰‡ã€ä¾§è¾¹æ ã€æµ®å±‚ (å¾®äº®) |
| **Border** | `#2A2A2A` | `border-border` | åˆ†å‰²çº¿ã€è¾¹æ¡† (æš—ç°) |
| **Text Primary** | `#E0E0E0` | `text-foreground` | æ ‡é¢˜ã€æ­£æ–‡ (æµ…ç°ï¼Œéçº¯ç™½) |
| **Text Muted** | `#A0A0A0` | `text-muted-foreground` | è¾…åŠ©è¯´æ˜ã€æ ‡ç­¾ (ä¸­ç°) |
| **Primary/Blue** | `#3B82F6` | `bg-primary` / `text-blue-500` | **è“é˜Ÿ/æ­£å¸¸**ã€ä¸»æŒ‰é’®ã€é€‰ä¸­æ€ |
| **Destructive/Red**| `#E53E3E` | `bg-destructive` / `text-red-500` | **çº¢é˜Ÿ/æ”»å‡»**ã€é«˜å±è­¦æŠ¥ |
| **Success/Green** | `#22C55E` | `text-green-500` | **å®‰å…¨/æˆåŠŸ**ã€æ¬¡çº§æ“ä½œæŒ‰é’® |
| **Warning/Yellow** | `#F6C23E` | `text-yellow-500` | æ³¨æ„ã€ä¸­å±è­¦æŠ¥ |

### ğŸ§© å¸ƒå±€ä¸ç»„ä»¶äº¤äº’åŸåˆ™

  * **å¸ƒå±€ç»“æ„**:
      * **Dashboard**: é¡¶éƒ¨æ€åŠ¿æ€»è§ˆï¼ˆå…³é”®æŒ‡æ ‡ï¼‰ï¼Œä¸‹æ–¹åˆ†æ ï¼ˆå·¦çº¢é˜Ÿæ”»å‡»æµï¼Œå³è“é˜Ÿé˜²å¾¡æµï¼‰ã€‚
      * **å¯¼èˆª**: ä¾§è¾¹æ æ·±è‰² (`#121212`)ï¼Œé€‰ä¸­é¡¹ä½¿ç”¨ä¸»è‰²äº®è“ (`#3B82F6`) é«˜äº®æ¡æˆ–æ–‡å­—ã€‚
  * **å¡ç‰‡è®¾è®¡**:
      * æ‰å¹³è‰²å— (`#1E1E1E`) + ç»†å¾®è¾¹æ¡† (`#2A2A2A`)ã€‚
      * **æ‹’ç»æ‹Ÿç‰©**ï¼šå»é™¤å¤æ‚çš„æ¸å˜å’Œåšé‡çš„é˜´å½±ï¼Œä»…åœ¨ Hover æ—¶å¢åŠ è½»å¾®çš„ `ring` æˆ– `shadow-sm`ã€‚
  * **çŠ¶æ€å¯è§†åŒ–**:
      * **åŸåˆ™**ï¼šé¢œè‰²ä»…ç”¨äºâ€œå¼•å¯¼æ³¨æ„â€ã€‚ä¸è¦æ»¡å±çº¢ç»¿ã€‚
      * **ä¸€è‡´æ€§**ï¼šçº¢é˜ŸåŠ¨ä½œæ°¸è¿œå…³è”çº¢è‰²ï¼Œè“é˜ŸåŠ¨ä½œæ°¸è¿œå…³è”è“è‰²ã€‚
  * **æŒ‰é’®äº¤äº’**:
      * ä¸»æŒ‰é’®ï¼šå®å¿ƒäº®è“ (`bg-blue-500 hover:bg-blue-400`)ã€‚
      * ç¦ç”¨æ€ï¼šä¸­ç° (`bg-gray-700 text-gray-400`)ã€‚

## 5\. AI èƒ½åŠ›å±‚ (AI Layer)

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **Orchestration** | **LangChain** | æ„å»ºâ€œæ‰«æ-åˆ†æ-å†³ç­–â€çš„å·¥ä½œæµã€‚ |
| **Model** | **OpenAI / Ollama** | å¼€å‘ç”¨ OpenAIï¼Œç”Ÿäº§æ”¯æŒæœ¬åœ° Ollamaã€‚ |
| **Vector** | **ChromaDB** | æœ¬åœ°å‘é‡å­˜å‚¨ï¼Œç”¨äº RAG (ä¾‹å¦‚æ£€ç´¢å†å² CVE æ•°æ®)ã€‚ |

## 6\. å¼€å‘ç¯å¢ƒåˆå§‹åŒ– (Quick Start)

ä¸ºäº†å®ç° Vibe Codingï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åˆå§‹åŒ–ï¼š

**Step 1: åç«¯ (ä½¿ç”¨ uv)**

```bash
# å®‰è£… uv (å¦‚æœæœªå®‰è£…)
curl -LsSf https://astral.sh/uv/install.sh | sh

# åˆå§‹åŒ–é¡¹ç›®
mkdir xtools && cd xtools
uv init --name backend --python 3.11 backend
cd backend

# æ·»åŠ ä¾èµ– (æé€Ÿ)
uv add fastapi uvicorn sqlmodel python-multipart openai langchain chromadb

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
uv run uvicorn main:app --reload
```

**Step 2: å‰ç«¯ (ä½¿ç”¨ pnpm)**

```bash
# å›åˆ°æ ¹ç›®å½•
cd ..

# åˆå§‹åŒ– Next.js
pnpm create next-app@latest frontend --typescript --tailwind --eslint

# è¿›å…¥å‰ç«¯å¹¶å®‰è£… Shadcn
cd frontend
pnpm dlx shadcn@latest init
# (åœ¨é…ç½® shadcn æ—¶ï¼ŒBase Color é€‰æ‹© Slateï¼Œåç»­æ‰‹åŠ¨ä¿®æ”¹ globals.css é¢œè‰²å˜é‡)
```

## 7\. ç›®å½•ç»“æ„ (Monorepo-style)

```text
xtools/
â”œâ”€â”€ backend/                # Python (uv)
â”‚   â”œâ”€â”€ main.py             # FastAPI å…¥å£
â”‚   â”œâ”€â”€ pyproject.toml      # ä¾èµ–ç®¡ç†
â”‚   â”œâ”€â”€ models.py           # SQLModel æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ scanner.py      # å·¥å…·è°ƒç”¨å°è£…
â”‚   â”‚   â””â”€â”€ ai_agent.py     # LangChain é€»è¾‘
â”‚   â””â”€â”€ data/               # SQLite æ•°æ®åº“æ–‡ä»¶å­˜æ”¾
â”‚
â”œâ”€â”€ frontend/               # Next.js (pnpm)
â”‚   â”œâ”€â”€ app/                # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ components/         # UI ç»„ä»¶ (Shadcn)
â”‚   â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ tailwind.config.ts  # é¢œè‰²é…ç½®æ ¸å¿ƒ
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md               # æœ¬æ–‡æ¡£
```